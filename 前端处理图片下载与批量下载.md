---
title: 前端处理图片下载与批量下载
tags: 前端,下载图片
grammar_cjkRuby: true
---


## 前言
- 为什么要前端做
- 前端怎么做
- 前端存在什么问题

## 解决方案

### 使用 ``a`` 标签进行下载
 - js 创建a标签和点击事件，设置download属性
 - 下面一段网上的简单方法

``` js
let a = document.createElement("a"), //创建a标签
e = document.createEvent("MouseEvents"); //创建鼠标事件对 e.initEvent("click", false, false); //初始化事件对象
a.href = el.url; //设置下载地址
a.download = el.photoType + el.photoId; //设置下载文件名
a.dispatchEvent(e); //给指定的元素，执行事件click事件
```
这种不兼容IE而且图片路径不同源就很尴尬，需要开启跨域(不跨域就只是打开图片)
那么我们下面换一个思路

### 使用iframe进行

``` stylus
let a = document.createElement("iframe"); 
a.src = el.url; 
a.style.display = "none";
document.body.appendChild(a);
```
然后...图片被当文档处理了
![enter description here][1]

### 使用oss下载
图片是使用oss存放，那么它自身也有下载的方法
详情：[oss下载][2]
这个是```OSS BrowserJS-SDK```基于Node.js进行的

### 使用请求进行
使用ajax/fetch进行请求图片

  [1]: ./images/1526270535023.jpg
  [2]: https://www.alibabacloud.com/help/zh/doc-detail/64052.htm?spm=a2c63.p38356.b99.217.71437429jz9Rtk